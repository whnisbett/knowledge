<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-interviewing/ml-system-design-interview-framework" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">ML System Design Interview Framework | Everything I know</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://whnisbett.github.io/knowledge/interviewing/ml-system-design-interview-framework/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ML System Design Interview Framework | Everything I know"><meta data-rh="true" name="description" content="I developed this framework in 2021 while interviewing for machine learning roles. Unfortunately, I only have one data point on its efficacy ‚Äì an interview with Yelp ‚Äì so your mileage may vary."><meta data-rh="true" property="og:description" content="I developed this framework in 2021 while interviewing for machine learning roles. Unfortunately, I only have one data point on its efficacy ‚Äì an interview with Yelp ‚Äì so your mileage may vary."><link data-rh="true" rel="icon" href="/knowledge/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://whnisbett.github.io/knowledge/interviewing/ml-system-design-interview-framework/"><link data-rh="true" rel="alternate" href="https://whnisbett.github.io/knowledge/interviewing/ml-system-design-interview-framework/" hreflang="en"><link data-rh="true" rel="alternate" href="https://whnisbett.github.io/knowledge/interviewing/ml-system-design-interview-framework/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://LT84UGUMGW-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Everything I know" href="/knowledge/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/knowledge/assets/css/styles.3505e5c2.css">
<script src="/knowledge/assets/js/runtime~main.b66d66f5.js" defer="defer"></script>
<script src="/knowledge/assets/js/main.c76b4b6a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/knowledge/"><div class="navbar__logo"><img src="/knowledge/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/knowledge/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Everything I Know</b></a></div><div class="navbar__items navbar__items--right"><a href="https://www.instagram.com/bnisbett.jpg/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">üì∑<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/whnisbett" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">üêô<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/whnisbett/knowledge" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/cycling/">Cycling</a><button aria-label="Expand sidebar category &#x27;Cycling&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/knowledge/interviewing/">Interviewing</a><button aria-label="Collapse sidebar category &#x27;Interviewing&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/knowledge/interviewing/ml-system-design-interview-framework/">ML System Design Interview Framework</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/mathematics/">Mathematics</a><button aria-label="Expand sidebar category &#x27;Mathematics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/knowledge/">My Knowledge Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/knowledge/photography/">Photography</a><button aria-label="Expand sidebar category &#x27;Photography&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/knowledge/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/knowledge/interviewing/"><span itemprop="name">Interviewing</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ML System Design Interview Framework</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>ML System Design Interview Framework</h1>
<p>I developed this framework in 2021 while interviewing for machine learning roles. Unfortunately, I only have one data point on its efficacy ‚Äì an interview with Yelp ‚Äì so your mileage may vary.</p>
<p>The framework is arranged (mostly) chronologically. If your interviewer wants you to focus on specific aspects of the problem (e.g. more modeling, less data engineering), you may need to jump around a bit. Otherwise, if they let you drive the discussion, I feel you can quite literally just go down this list.</p>
<p>You do not need to address every point during the interview. Some points may be irrelevant. Use your best judgement here on which to leave out.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-clarify-and-gather-requirements">1. Clarify and gather requirements<a href="#1-clarify-and-gather-requirements" class="hash-link" aria-label="Direct link to 1. Clarify and gather requirements" title="Direct link to 1. Clarify and gather requirements">‚Äã</a></h2>
<ul>
<li><strong>Repeat back the problem in your own words.</strong>
<ul>
<li>Why? This demonstrates to interviewer that you understand the problem (a surprisingly large amount of points in most technical interviews), it resolves any potential misunderstandings, and gives you a moment to catch your breath.</li>
</ul>
</li>
<li><strong>What are the business-level goals of the system?</strong>
<ul>
<li>Are we trying to drive user engagement, increase revenue, , etc.</li>
<li>Use this to pick evaluation metrics for the system later on</li>
</ul>
</li>
<li><strong>Is there any portion of this system already in place, or are we building everything from scratch?</strong>
<ul>
<li>e.g. Is there a status quo model we need to be comparing against? Is there an ETL pipeline in place already?</li>
</ul>
</li>
<li><strong>Will we need to make predictions in realtime?</strong></li>
<li><strong>How many users are we concerned with serving at once?</strong></li>
<li><strong>Are there any constraints on data availability?</strong>
<ul>
<li>e.g. do we only have a small amount of data at our disposal? Is the data annotated with the response variable we care about?</li>
</ul>
</li>
<li><strong>Will the product need to be personalized to each user? If so, what kind of user data do we have available to us?</strong></li>
<li><strong>Any minimum performance requirements we need to meet?</strong>
<ul>
<li>e.g. latency requirements? accuracy/precision requirements?</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-high-level-system-architecture">2. High-level system architecture<a href="#2-high-level-system-architecture" class="hash-link" aria-label="Direct link to 2. High-level system architecture" title="Direct link to 2. High-level system architecture">‚Äã</a></h2>
<ul>
<li><strong>Propose the metrics you will use to evaluate the system both in production and offline</strong>
<ul>
<li>Decide this based on the business-level goals set out above</li>
<li>Worth acknowledging that most metrics are just measurable proxies for our goals, and not the goals themselves. CTR ‚â† user engagement and <a href="/knowledge/mathematics/goodharts-law/">it&#x27;s dangerous to believe otherwise</a>.</li>
</ul>
</li>
<li><strong>Propose a high-level architecture for the system</strong>
<ul>
<li>Serves as an outline for the discussion ahead</li>
<li>Does not need to be completely fleshed out at this point</li>
<li>When in doubt, most ML systems have the following generic structure:</li>
</ul>
</li>
</ul>
<p><img loading="lazy" alt="generic-ml-system-diagram" src="/knowledge/assets/images/generic-ml-system-diagram-6f3e09f0105e816104cdabe3ef720775.png" width="1589" height="309" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-data-and-feature-engineering">3. Data and Feature Engineering<a href="#3-data-and-feature-engineering" class="hash-link" aria-label="Direct link to 3. Data and Feature Engineering" title="Direct link to 3. Data and Feature Engineering">‚Äã</a></h2>
<p>This is where the interview can become more nonlinear and your interviewer may start probing your thinking more.</p>
<p>Under each discussion point, I have included a few key questions you should prepare for ‚Äì either the interviewer will ask them or you can prompt the discussion yourself and provide the answers.</p>
<ul>
<li><strong>What is our model&#x27;s prediction target?</strong>
<ul>
<li>e.g. for a content recommendation system, output might be one/many pieces of content. For an segmentation model, it will be a binary map of pixels that belong to the class(es) of interest</li>
</ul>
</li>
<li><strong>What is the framing for our learning task?</strong>
<ul>
<li><em>Does this problem suit a supervised, unsupervised, or reinforcement learning approach?</em></li>
<li><em>If supervised: is this a regression or classification problem?</em></li>
<li><em>If classification: what type of classification problem? Single-class? Multi-class? Multi-label?</em></li>
</ul>
</li>
<li><strong>What input features should we use?</strong>
<ul>
<li><em>What broad categories of features should we include?</em> (e.g. user data, session data, location data, features about the content)</li>
<li><em>What are examples of some high-value features for this problem?</em></li>
<li><em>Are there important synergies between features that we should keep in mind? Should we engineer feature crosses for them?</em></li>
</ul>
</li>
</ul>
<ul>
<li><strong>How to handle null values?</strong>
<ul>
<li><em>Should we drop records with nulls or impute the values?</em></li>
<li><em>What imputation values/methods should we use?</em> (zero, median, mean, etc.)</li>
</ul>
</li>
<li><strong>How to handle imbalances in the data?</strong>
<ul>
<li><em>What are some common techniques for handling class imbalances?</em></li>
<li><em>What are the tradeoffs to downsampling majority classes vs. upsampling minority classes?</em></li>
</ul>
</li>
<li><strong>Discuss feature transformations</strong>
<ul>
<li><em>Would it be useful to apply any transformations to our input features? Why?</em></li>
<li><em>What are some common feature transformations? What are the situations when you might choose one over another?</em> (e.g. when might log scaling be preferable to min-max scaling?)</li>
</ul>
</li>
<li><strong>Should we perform any feature selection or feature importance analyses?</strong>
<ul>
<li><em>What are the benefits of feature selection?</em></li>
<li><em>What are some common techniques for selecting features?</em></li>
</ul>
</li>
<li><strong>What sort of train-test splits should we perform?</strong>
<ul>
<li>This discussion point could lead down a rabbit hole ‚Äì lots of different questions you could be asked here and I have tried to include some big ones that come to mind.</li>
<li><em>What is the purpose of having a (holdout) test set?</em> (i.e. why do we do a train-test split in the first place)</li>
<li><em>What is a validation set used for? How does it differ from a test set?</em></li>
<li><em>What are some common techniques used in model validation?</em></li>
<li><em>Define model bias. Define model variance. What is bias-variance tradeoff?</em></li>
<li><em>What is overfitting?</em></li>
<li><em>Can you overfit on a validation set?</em></li>
<li><em>What is hyperparameter optimization?</em></li>
</ul>
</li>
<li><strong>Are there data privacy concerns we should bear in mind?</strong>
<ul>
<li>Probably does not need an exhaustive discussion, Acknowledging that some data is PII (e.g. user data) and thus sensitive is probably sufficient</li>
</ul>
</li>
<li><strong>Data biases</strong>
<ul>
<li>Again, probably does not warrant an exhaustive discussion ‚Äì acknowledging the potential presence of (social) biases in the dataset and that the model could learn to reinforce these biases is probably sufficient</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-modeling">4. Modeling<a href="#4-modeling" class="hash-link" aria-label="Direct link to 4. Modeling" title="Direct link to 4. Modeling">‚Äã</a></h2>
<ul>
<li><strong>Is there a relatively simple model that could perform well on our task?</strong>
<ul>
<li><em>What makes this type of model more suitable than some other simple models?</em></li>
<li><em>What are the pros and cons of choosing this model?</em></li>
</ul>
</li>
<li><strong>What about more complex model architectures? Is there something that could give SOTA performance on our task?</strong>
<ul>
<li><em>What are the pros and cons of choosing this model?</em></li>
</ul>
</li>
</ul>
<hr>
<h1>Resources</h1>
<ul>
<li><a href="https://huyenchip.com/ml-interviews-book/" target="_blank" rel="noopener noreferrer">Huyen Chip&#x27;s Machine Learning Systems Design</a></li>
<li><a href="https://www.mle-interviews.com/ml-design-template" target="_blank" rel="noopener noreferrer">ML Design Template</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/whnisbett/knowledge/tree/main/docs/interviewing/ml-system-design-interview-framework.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/knowledge/interviewing/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Interviewing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/knowledge/mathematics/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Mathematics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-clarify-and-gather-requirements" class="table-of-contents__link toc-highlight">1. Clarify and gather requirements</a></li><li><a href="#2-high-level-system-architecture" class="table-of-contents__link toc-highlight">2. High-level system architecture</a></li><li><a href="#3-data-and-feature-engineering" class="table-of-contents__link toc-highlight">3. Data and Feature Engineering</a></li><li><a href="#4-modeling" class="table-of-contents__link toc-highlight">4. Modeling</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>